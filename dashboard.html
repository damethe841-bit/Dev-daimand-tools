<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{margin:0;font-family:Arial;background:#f2f5f3}
.container{max-width:420px;margin:auto;padding-bottom:80px}
.header{background:#1fa463;color:#fff;padding:20px;border-radius:0 0 20px 20px}
.cards{display:flex;gap:10px;margin-top:10px}
.card{flex:1;background:#fff;padding:15px;border-radius:14px;text-align:center}
.udhar{color:#e53935}
.jama{color:#1fa463}
.actions{display:flex;gap:10px;margin:20px}
.btn{flex:1;background:#1fa463;color:#fff;padding:12px;border:none;border-radius:12px}
.list{margin:0 20px}
.item{background:#fff;padding:12px;border-radius:12px;display:flex;justify-content:space-between;margin-bottom:10px}
.nav{position:fixed;bottom:0;width:100%;max-width:420px;display:flex;background:#fff;border-top:1px solid #ddd}
.nav a{flex:1;text-align:center;padding:12px;text-decoration:none;color:#555}
.nav a.active{color:#1fa463;font-weight:bold}
</style>
</head>

<body>
<div class="container">

<div class="header">
<h2>Welcome</h2>
<p>Dev Daimand Tool</p>

<div class="cards">
<div class="card">
Total Udhar
<div class="udhar" id="totalUdhar">₹0</div>
</div>
<div class="card">
Total Jama
<div class="jama" id="totalJama">₹0</div>
</div>
</div>
</div>

<div class="actions">
<button class="btn" onclick="goAdd()">+ Add Entry</button>
<button class="btn">+ Add Customer</button>
</div>

<div class="list" id="customerList"></div>

</div>

<div class="nav">
<a href="dashboard.html" class="active">Home</a>
<a href="customer.html">Customers</a>
<a href="add-entry.html">Add</a>
<a href="report.html">Report</a>
</div>

<script>
const list=document.getElementById("customerList");
const entries=JSON.parse(localStorage.getItem("entries")||"[]");

let totalUdhar=0,totalJama=0;
const customers={};

entries.forEach(e=>{
if(!customers[e.customer]) customers[e.customer]=0;
if(e.type==="Udhar"){
customers[e.customer]-=e.amount;
totalUdhar+=e.amount;
}else{
customers[e.customer]+=e.amount;
totalJama+=e.amount;
}
});

document.getElementById("totalUdhar").innerText="₹"+totalUdhar;
document.getElementById("totalJama").innerText="₹"+totalJama;

for(let name in customers){
list.innerHTML+=`
<div class="item">
<strong>${name}</strong>
<span class="${customers[name]<0?'udhar':'jama'}">
₹${Math.abs(customers[name])}
</span>
</div>`;
}

function goAdd(){window.location.href="add-entry.html";}
</script>

</body>
</html>
